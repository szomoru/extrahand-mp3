{% extends "base.html" %}

{% block content %}
<section class="page-section cta col-xl-9 mx-auto rounded">
  <div class="container">
    <div class="col-xl-9 mx-auto">
      <div class="cta-inner bg-faded rounded">
        <h2 class="section-heading mb-4">
          <span class="section-heading-upper text-center">All available Tasks in the Database</span>
        </h2>

        <!-- Materialize Accordion to show the tasks from database through "for" cycle -->

        <ul class="collapsible">

          {% for task in tasks %}
          <li>
            {% if session.user|lower == task.created_by %}
              <div id="collaps-header-own" class="collapsible-header">
            {% else %}
              <div id="collaps-header" class="collapsible-header">
            {% endif %}
                <div class="col">
                  <strong>{{ task.task_name }}</strong>
                </div>
                <div class="col pos">
                  <i class="fas fa-ellipsis-v"></i>
                </div>
              </div>  
      
            <div id="collaps-body" class="collapsible-body">
              <ul>
                <li class="section-heading-upper">Task Name:
                  <span>{{ task.task_name }}</span>
                </li>
                <li class="section-heading-upper">Task Description:
                  <span>{{ task.task_description }}</span>
                </li>
                <li class="section-heading-upper">Additional Comment:
                  <span>{{ task.comment }}</span>
                </li>
                <li class="section-heading-upper">Compensation:
                  <span>{{ task.compensation }}</span>
                </li>
                <li class="section-heading-upper">Date of Task:
                  <span>{{ task.due_date }}</span>
                </li>
                <li class="section-heading-upper">Duration of the Task:
                  <span>{{ task.duration }}</span>
                </li>
                {% if session.user|lower != task.created_by %}
                  <li class="section-heading-upper">Created by:
                    <span>{{ task.created_by }}</span>
                  </li>
                {% endif %}
              </ul>
            </div>
          </li>
          {% endfor %}

        </ul>
      </div>
    </div>
  </div>
  </div>
</section>

{% endblock %}